<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.panacealab.panacare.dao.PayDao">
    <insert id="insert" parameterType="com.panacealab.panacare.entity.AlipaymentOrder">
        insert into alipayment_order
        (order_number,aorder_trade_state,aorder_total_amount,aorder_receipt_amount,aorder_invoice_amount,aoder_buyer_pay_amount,aorder_refund_fee)
        values (#{order_number},#{aorder_trade_state},#{aorder_total_amount},#{aorder_receipt_amount},#{aorder_invoice_amount},#{aoder_buyer_pay_amount},#{aorder_refund_fee})
    </insert>
    <insert id="insertOrder" parameterType="com.panacealab.panacare.entity.OrderInfo">
        insert into order_info
        (order_number,goods_uniq_id,user_uniq_id,order_counts,order_state,order_created_time,order_pay_way,order_finished_time)
        values (#{order_number},#{goods_uniq_id},#{user_uniq_id},#{order_counts},#{order_state},#{order_created_time},#{order_pay_way},#{order_finished_time})
    </insert>
    <select id="queryGoodsInfo" resultType="com.panacealab.panacare.entity.GoodsInfo">
        select * from goods_info where goods_state = 1 and goods_uniq_id = #{goods_uniq_id}
    </select>
    <insert id="insertSubscribeInfo" parameterType="com.panacealab.panacare.entity.SubscribeInfo">
        insert into subscribe_info
        (goods_uniq_id,user_uniq_id,order_state)
        values (#{goods_uniq_id},#{user_uniq_id},#{order_counts},#{order_state})
    </insert>
</mapper>